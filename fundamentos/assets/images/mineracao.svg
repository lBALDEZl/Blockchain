<svg viewBox="0 0 850 620" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="850" height="620" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="425" y="40" font-family="Arial" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Processo de Mineração de Bitcoin</text>
  
  <!-- Mining Pool Area -->
  <rect x="50" y="70" width="750" height="400" rx="15" ry="15" fill="#e6f7ff" stroke="#0099cc" stroke-width="2"/>
  <text x="425" y="95" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#0077aa">Pool de Mineração</text>
  
  <!-- Transaction Pool -->
  <rect x="80" y="120" width="200" height="110" rx="10" ry="10" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="180" y="145" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Pool de Transações</text>
  <text x="180" y="170" font-family="Arial" font-size="12" text-anchor="middle">Transações pendentes</text>
  <text x="180" y="190" font-family="Arial" font-size="12" text-anchor="middle">aguardando confirmação</text>
  
  <!-- Miners -->
  <rect x="80" y="270" width="720" height="160" rx="10" ry="10" fill="#fff" stroke="#333" stroke-width="2"/>
  <text x="425" y="290" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Mineradores</text>
  
  <!-- Miner 1 -->
  <rect x="100" y="310" width="160" height="95" rx="5" ry="5" fill="#d9f2e6" stroke="#00994d" stroke-width="1"/>
  <text x="180" y="330" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Minerador 1</text>
  <rect x="130" y="340" width="100" height="40" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="180" y="365" font-family="Arial" font-size="12" text-anchor="middle">Calcula Hash</text>
  <text x="180" y="390" font-family="Arial" font-size="10" text-anchor="middle">Poder: 30 TH/s</text>
  
  <!-- Miner 2 -->
  <rect x="280" y="310" width="160" height="95" rx="5" ry="5" fill="#d9f2e6" stroke="#00994d" stroke-width="1"/>
  <text x="360" y="330" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Minerador 2</text>
  <rect x="310" y="340" width="100" height="40" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="360" y="365" font-family="Arial" font-size="12" text-anchor="middle">Calcula Hash</text>
  <text x="360" y="390" font-family="Arial" font-size="10" text-anchor="middle">Poder: 45 TH/s</text>
  
  <!-- Miner 3 -->
  <rect x="460" y="310" width="160" height="95" rx="5" ry="5" fill="#d9f2e6" stroke="#00994d" stroke-width="1"/>
  <text x="540" y="330" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Minerador 3</text>
  <rect x="490" y="340" width="100" height="40" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="540" y="365" font-family="Arial" font-size="12" text-anchor="middle">Calcula Hash</text>
  <text x="540" y="390" font-family="Arial" font-size="10" text-anchor="middle">Poder: 28 TH/s</text>
  
  <!-- Miner 4 -->
  <rect x="640" y="310" width="140" height="95" rx="5" ry="5" fill="#d9f2e6" stroke="#00994d" stroke-width="1"/>
  <text x="710" y="330" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Minerador 4</text>
  <rect x="660" y="340" width="100" height="40" rx="5" ry="5" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="710" y="365" font-family="Arial" font-size="12" text-anchor="middle">Calcula Hash</text>
  <text x="710" y="390" font-family="Arial" font-size="10" text-anchor="middle">Poder: 52 TH/s</text>
  
  <!-- Block Creation -->
  <rect x="320" y="120" width="180" height="110" rx="10" ry="10" fill="#ffecb3" stroke="#ff9900" stroke-width="2"/>
  <text x="410" y="145" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Criação do Bloco</text>
  <text x="410" y="165" font-family="Arial" font-size="12" text-anchor="middle">1. Selecionar transações</text>
  <text x="410" y="185" font-family="Arial" font-size="12" text-anchor="middle">2. Adicionar coinbase</text>
  <text x="410" y="205" font-family="Arial" font-size="12" text-anchor="middle">3. Buscar nonce válido</text>
  
  <!-- Blockchain -->
  <rect x="540" y="120" width="200" height="110" rx="10" ry="10" fill="#e6ccff" stroke="#6600cc" stroke-width="2"/>
  <text x="640" y="145" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle">Blockchain</text>
  <rect x="570" y="160" width="140" height="20" rx="2" ry="2" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="640" y="175" font-family="Arial" font-size="10" text-anchor="middle">Bloco #789,245</text>
  <rect x="570" y="185" width="140" height="20" rx="2" ry="2" fill="#fff" stroke="#333" stroke-width="1"/>
  <text x="640" y="200" font-family="Arial" font-size="10" text-anchor="middle">Bloco #789,246</text>
  
  <!-- Arrows -->
  <!-- Transaction Pool to Block Creation -->
  <path d="M 280 170 L 320 170" fill="none" stroke="#333" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="310,165 320,170 310,175" fill="#333"/>
  
  <!-- Block Creation to Miners -->
  <path d="M 410 230 L 410 270" fill="none" stroke="#333" stroke-width="2"/>
  <polygon points="405,260 410,270 415,260" fill="#333"/>
  
  <!-- Miner Success to Blockchain - COM LABEL -->
  <path d="M 710 310 L 640 230" fill="none" stroke="#6600cc" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="647,238 640,230 650,234" fill="#6600cc"/>
  
  <!-- Label for Miner to Blockchain arrow -->
  <rect x="655" y="255" width="160" height="25" rx="5" ry="5" fill="#fff" stroke="#6600cc" stroke-width="1"/>
  <text x="735" y="272" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">Submissão do bloco minerado</text>
  
  <!-- Reward Path -->
  <path d="M 640 230 C 730,250 730,280 640,300 C 550,320 360,320 330,300" fill="none" stroke="#ff9900" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="337,296 330,300 336,305" fill="#ff9900"/>
  
  <!-- Label for reward path -->
  <rect x="460" y="230" width="120" height="25" rx="5" ry="5" fill="#fff" stroke="#ff9900" stroke-width="1"/>
  <text x="520" y="247" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">Recompensa (BTC)</text>
  
  <!-- LEGENDA CORRIGIDA - Componentes -->
  <text x="425" y="500" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Legenda</text>
  
  <!-- Primeira linha de legendas -->
  <rect x="100" y="525" width="15" height="15" fill="#ffecb3" stroke="#ff9900" stroke-width="1"/>
  <text x="125" y="538" font-family="Arial" font-size="12" text-anchor="start" fill="#333">Processo de criação do bloco</text>
  
  <rect x="400" y="525" width="15" height="15" fill="#e6ccff" stroke="#6600cc" stroke-width="1"/>
  <text x="425" y="538" font-family="Arial" font-size="12" text-anchor="start" fill="#333">Blockchain Bitcoin</text>
  
  <rect x="650" y="525" width="15" height="15" fill="#d9f2e6" stroke="#00994d" stroke-width="1"/>
  <text x="675" y="538" font-family="Arial" font-size="12" text-anchor="start" fill="#333">Mineradores</text>
  
  <!-- Segunda linha de legendas - CORRIGIDO PARA EVITAR SOBREPOSIÇÃO -->
  <!-- Seta roxa e seu texto -->
  <path d="M 150 570 L 180 570" stroke="#6600cc" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="173,566 180,570 173,574" fill="#6600cc"/>
  <text x="190" y="573" font-family="Arial" font-size="12" text-anchor="start" fill="#333">Submissão do bloco quando hash válido é encontrado</text>
  
  <!-- Seta amarela e seu texto - POSICIONADA ABAIXO PARA EVITAR SOBREPOSIÇÃO -->
  <path d="M 150 600 L 180 600" stroke="#ff9900" stroke-width="2" stroke-dasharray="5,3"/>
  <polygon points="173,596 180,600 173,604" fill="#ff9900"/>
  <text x="190" y="603" font-family="Arial" font-size="12" text-anchor="start" fill="#333">Recompensa em Bitcoin</text>
</svg>